<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Duet</title>
    <script src="//cdn.quilljs.com/1.3.6/quill.js"></script>
    <script
            src="http://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>

    <style>
        html, body {
            height: 100vh;
            box-sizing: border-box;
        }

        body {
            display: flex;
            margin: 0;
            padding: 0;
        }

        section {
            width: 50%;
            border: 2px solid gray;
        }

        img {
            position: fixed;
            top: 1em;
            right: 1em;
        }
    </style>
</head>
<body>
<section>
    <div id="editor"></div>
</section>

<section>
    <img id="refresh" src="baseline-refresh-24px.svg" alt="">
</section>
<script>
    $(document).ready(() => {
        var quill = new Quill('#editor');
        window.quill = quill
        quill.insertText("Lorem ipsum dolor sit amet, vidit iusto noluisse ius cu, vim atqui principes in. Pro omnis ornatus verterem ea. Ea mel vide duis moderatius. Mel nisl utinam interesset ut, pri at dicit melius diceret. Nonumy democritum vis ne.\n\nCase assum eirmod qui in, mei an molestie honestatis. Per ea detraxit petentium, lucilius temporibus ex pro.")

        // When you press the refresh button, POST to the backend.
        $('#refresh').click(event => {
            const text = quill.getText().split('\n').join(' ')
            $.post('/api/generate', {text: text}, data => {
                alert(data)
            }, 'json')
        });


    })
</script>

</body>
</html>